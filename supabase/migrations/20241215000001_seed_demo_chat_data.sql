-- ============================================================================
-- MIGRATION: Seed Demo Chat Sessions and Analyses
-- ============================================================================
-- This migration seeds chat_sessions and chat_session_analyses for demo data.
--
-- Note: This includes a representative sample of chat sessions. The full
-- dataset can be imported from public/data/chat_sessions.json and
-- public/data/chat_session_analyses.json if needed.
--
-- IMPORTANT: Usage tracking triggers are disabled during this migration.
-- This is intentional - workspace/mascot counters are explicitly set in the
-- first migration (20241215000000_seed_demo_data.sql). These sample sessions
-- are for analytics/transcript viewing only and should NOT increment the
-- pre-set usage counters.
--
-- This script is idempotent - safe to run multiple times.
-- Uses DELETE + INSERT approach for clean, consistent demo data on every run.
-- ============================================================================

-- Wrap in exception-safe block to guarantee triggers are re-enabled
DO $$
BEGIN
  -- Disable triggers during bulk insert
  ALTER TABLE chat_sessions DISABLE TRIGGER tr_track_chat_session_usage;
  ALTER TABLE chat_messages DISABLE TRIGGER tr_track_chat_message_usage;

  -- ============================================================================
  -- CLEANUP: Remove existing demo chat data for fresh reseed
  -- ============================================================================
  -- Order matters: chat_messages.session_id FK references chat_sessions without CASCADE
  DELETE FROM chat_session_analyses WHERE mascot_slug LIKE 'jumboDemo%' OR mascot_slug LIKE 'hitapesDemo%';
  DELETE FROM chat_messages WHERE mascot_slug LIKE 'jumboDemo%' OR mascot_slug LIKE 'hitapesDemo%';
  DELETE FROM chat_sessions WHERE client_slug IN ('jumboDemo', 'hitapesDemo');

  -- ============================================================================
  -- CHAT_SESSIONS (Sample - 5 representative sessions)
  -- ============================================================================
  INSERT INTO chat_sessions (
    id, mascot_slug, client_slug, domain, user_id,
    session_start, session_end, first_message_at, last_message_at, last_activity,
    is_active, end_reason,
    total_bot_messages, total_user_messages,
    total_tokens, total_prompt_tokens, total_completion_tokens,
    total_cost_usd, total_cost_eur, average_response_time_ms,
    ip_address, user_agent, country, city, device_type, browser, os,
    referrer_url, page_url, widget_version,
    easter_eggs_triggered, is_dev,
    glb_source, glb_transfer_size, glb_url,
    full_transcript, analysis_processed, analysis_status,
    analysis_attempts, analysis_locked_at, analysis_processed_at, analysis_last_error,
    created_at, updated_at
  ) VALUES
    -- Session 1: Store hours inquiry (positive, resolved)
    (
      'c0053249-1d22-4da2-a5c0-4cb5b428dff1',
      'jumboDemo-ma-001',
      'jumboDemo',
      'jumbo.com',
      'user-001',
      '2025-11-15T09:15:00+00:00',
      '2025-11-15T09:22:00+00:00',
      '2025-11-15T09:15:30+00:00',
      '2025-11-15T09:21:45+00:00',
      '2025-11-15T09:21:45+00:00',
      FALSE,
      'user_inactive',
      4, 3,
      4500, 3200, 1300,
      0.005, 0.0046, 2200,
      '192.168.1.xxx',
      'Mozilla/5.0 (Windows NT 10.0; Win64; x64) Chrome/120.0',
      'NL', 'Amsterdam', 'desktop', 'Chrome 120.0', 'Windows 10',
      'https://google.com',
      'https://jumbo.com/contact',
      '0.0.3',
      0, FALSE,
      'memory_cache', 0, 'https://cdn.example.com/model.glb',
      '[{"author":"bot","message":"Hallo! Welkom bij Jumbo. Hoe kan ik je helpen?","timestamp":"2025-11-15T09:15:30+00:00"},{"author":"user","message":"Hoi! Wat zijn jullie openingstijden?","timestamp":"2025-11-15T09:16:00+00:00"},{"author":"bot","message":"Onze winkels zijn over het algemeen geopend van maandag t/m zaterdag van 8:00 tot 21:00. De exacte tijden kunnen per winkel verschillen. Je kunt je dichtstbijzijnde winkel bekijken op https://jumbo.com/stores/hours","timestamp":"2025-11-15T09:16:15+00:00"},{"author":"user","message":"En op zondag?","timestamp":"2025-11-15T09:18:00+00:00"},{"author":"bot","message":"De meeste Jumbo winkels zijn ook op zondag geopend, meestal van 10:00 tot 18:00 of 12:00 tot 18:00. Dit verschilt per locatie.","timestamp":"2025-11-15T09:18:20+00:00"},{"author":"user","message":"Top, bedankt!","timestamp":"2025-11-15T09:21:45+00:00"},{"author":"bot","message":"Graag gedaan! Fijne dag nog!","timestamp":"2025-11-15T09:21:50+00:00"}]'::JSONB,
      TRUE, 'succeeded',
      0, NULL, NULL, NULL,
      '2025-11-15T09:15:00+00:00',
      '2025-11-15T09:22:00+00:00'
    ),
    -- Session 2: Product inquiry with unanswered question (neutral, partial)
    (
      'e63b4047-d0a2-422e-9005-b71cb132edf0',
      'jumboDemo-ma-001',
      'jumboDemo',
      'jumbo.com',
      'user-002',
      '2025-11-15T10:30:00+00:00',
      '2025-11-15T10:45:00+00:00',
      '2025-11-15T10:30:15+00:00',
      '2025-11-15T10:44:30+00:00',
      '2025-11-15T10:44:30+00:00',
      FALSE,
      'user_inactive',
      5, 4,
      6200, 4400, 1800,
      0.0068, 0.0063, 2500,
      '192.168.1.xxx',
      'Mozilla/5.0 (iPhone; CPU iPhone OS 17_0) Safari/605.1.15',
      'NL', 'Rotterdam', 'mobile', 'Safari 17.0', 'iOS 17',
      'https://jumbo.com/products',
      'https://jumbo.com/help',
      '0.0.3',
      1, FALSE,
      'cdn_fetch', 17345088, 'https://cdn.example.com/model.glb',
      '[{"author":"bot","message":"Hallo! Welkom bij Jumbo. Waarmee kan ik je helpen vandaag?","timestamp":"2025-11-15T10:30:15+00:00"},{"author":"user","message":"Hebben jullie biologische bananen?","timestamp":"2025-11-15T10:31:00+00:00"},{"author":"bot","message":"Ja! Wij hebben biologische bananen in ons assortiment. Je kunt ze vinden in onze biologische afdeling. Bekijk ons biologische aanbod op https://jumbo.com/products/organic","timestamp":"2025-11-15T10:31:30+00:00"},{"author":"user","message":"Ze waren niet beschikbaar bij mij. Wanneer worden ze weer aangevuld?","timestamp":"2025-11-15T10:35:00+00:00"},{"author":"bot","message":"De voorraad wordt dagelijks aangevuld, maar de exacte timing verschilt per winkel. Ik kan je helaas geen precieze datum geven voor wanneer ze weer beschikbaar zijn.","timestamp":"2025-11-15T10:35:45+00:00"},{"author":"user","message":"Welke andere biologische fruit hebben jullie?","timestamp":"2025-11-15T10:40:00+00:00"},{"author":"bot","message":"We hebben een breed assortiment biologisch fruit: appels, peren, sinaasappels, citroenen, kiwis, druiven en meer. Het aanbod kan per seizoen variëren.","timestamp":"2025-11-15T10:40:30+00:00"},{"author":"user","message":"Oké bedankt","timestamp":"2025-11-15T10:44:30+00:00"},{"author":"bot","message":"Geen probleem! Als je nog vragen hebt, ben ik er voor je.","timestamp":"2025-11-15T10:44:45+00:00","easter":"meditate"}]'::JSONB,
      TRUE, 'succeeded',
      0, NULL, NULL, NULL,
      '2025-11-15T10:30:00+00:00',
      '2025-11-15T10:45:00+00:00'
    ),
    -- Session 3: Complaint - escalated (negative)
    (
      '4d335ace-7f06-41ce-baad-817801104985',
      'jumboDemo-ma-001',
      'jumboDemo',
      'jumbo.com',
      'user-003',
      '2025-11-15T14:00:00+00:00',
      '2025-11-15T14:18:00+00:00',
      '2025-11-15T14:00:20+00:00',
      '2025-11-15T14:17:45+00:00',
      '2025-11-15T14:17:45+00:00',
      FALSE,
      'escalated',
      6, 5,
      8500, 6000, 2500,
      0.0094, 0.0086, 3800,
      '192.168.1.xxx',
      'Mozilla/5.0 (Linux; Android 14) Chrome/120.0',
      'BE', 'Brussels', 'mobile', 'Chrome 120.0', 'Android 14',
      NULL,
      'https://jumbo.com/support',
      '0.0.3',
      0, FALSE,
      'memory_cache', 0, 'https://cdn.example.com/model.glb',
      '[{"author":"bot","message":"Hallo! Welkom bij Jumbo klantenservice. Hoe kan ik je helpen?","timestamp":"2025-11-15T14:00:20+00:00"},{"author":"user","message":"Ik heb een beschadigd product ontvangen!","timestamp":"2025-11-15T14:01:00+00:00"},{"author":"bot","message":"Dat spijt me om te horen! Kan je me vertellen welk product beschadigd was en wanneer je het hebt gekocht?","timestamp":"2025-11-15T14:01:30+00:00"},{"author":"user","message":"Het was een glazen pot pasta saus, gisteren gekocht. De pot was gebarsten en alles lekte eruit.","timestamp":"2025-11-15T14:05:00+00:00"},{"author":"bot","message":"Dat is echt vervelend. Mijn excuses hiervoor. Je hebt recht op vervanging of terugbetaling. Heb je je kassabon nog?","timestamp":"2025-11-15T14:05:45+00:00"},{"author":"user","message":"Ik wil mijn geld terug. Hoe krijg ik dat?","timestamp":"2025-11-15T14:10:00+00:00"},{"author":"bot","message":"Je kunt naar de klantenservice balie in de winkel gaan met het product en je kassabon. Zij kunnen je direct helpen met de terugbetaling.","timestamp":"2025-11-15T14:10:30+00:00"},{"author":"user","message":"Hoe retourneer ik dit precies?","timestamp":"2025-11-15T14:15:00+00:00"},{"author":"bot","message":"Voor specifieke vragen over retourneren kan ik je doorverbinden met onze klantenservice. Zij kunnen je verder helpen. Ik stuur je vraag door naar support@jumbo.com","timestamp":"2025-11-15T14:15:30+00:00"},{"author":"user","message":"Oké, doe maar","timestamp":"2025-11-15T14:17:45+00:00"},{"author":"bot","message":"Je vraag is doorgestuurd naar onze klantenservice. Zij nemen zo snel mogelijk contact met je op. Sterkte!","timestamp":"2025-11-15T14:18:00+00:00"}]'::JSONB,
      TRUE, 'succeeded',
      0, NULL, NULL, NULL,
      '2025-11-15T14:00:00+00:00',
      '2025-11-15T14:18:00+00:00'
    ),
    -- Session 4: German language detection
    (
      '54b32155-5222-41fe-8248-3f9c5cf44c75',
      'jumboDemo-ma-001',
      'jumboDemo',
      'jumbo.com',
      'user-009',
      '2025-11-17T15:00:00+00:00',
      '2025-11-17T15:08:00+00:00',
      '2025-11-17T15:00:05+00:00',
      '2025-11-17T15:07:30+00:00',
      '2025-11-17T15:07:30+00:00',
      FALSE,
      'sleep_timeout',
      3, 2,
      3400, 2400, 1000,
      0.0037, 0.0034, 2000,
      '192.168.1.xxx',
      'Mozilla/5.0 (Linux; Android 14) Chrome/120.0',
      'DE', 'Düsseldorf', 'mobile', 'Chrome 120.0', 'Android 14',
      'https://google.de',
      'https://jumbo.com/',
      '0.0.3',
      1, FALSE,
      'memory_cache', 0, 'https://cdn.example.com/model.glb',
      '[{"author":"bot","message":"Hallo! Welkom bij Jumbo. Hoe kan ik je helpen?","timestamp":"2025-11-17T15:00:05+00:00"},{"author":"user","message":"Hallo, sprechen Sie Deutsch?","timestamp":"2025-11-17T15:01:00+00:00"},{"author":"bot","message":"Ja, ich kann auch auf Deutsch antworten! Wie kann ich Ihnen heute helfen?","timestamp":"2025-11-17T15:01:30+00:00"},{"author":"user","message":"Ah super! Ich schaue nur mal vorbei.","timestamp":"2025-11-17T15:07:30+00:00"},{"author":"bot","message":"Kein Problem! Wenn Sie Fragen haben, bin ich hier um zu helfen. Schönen Tag noch!","timestamp":"2025-11-17T15:07:45+00:00","easter":"meditate"}]'::JSONB,
      TRUE, 'succeeded',
      0, NULL, NULL, NULL,
      '2025-11-17T15:00:00+00:00',
      '2025-11-17T15:08:00+00:00'
    ),
    -- Session 5: Loyalty points question
    (
      '95098475-6d18-4ce0-8360-f488099b8488',
      'jumboDemo-ma-001',
      'jumboDemo',
      'jumbo.com',
      'user-019',
      '2025-11-20T18:00:00+00:00',
      '2025-11-20T18:12:00+00:00',
      '2025-11-20T18:00:10+00:00',
      '2025-11-20T18:11:30+00:00',
      '2025-11-20T18:11:30+00:00',
      FALSE,
      'user_inactive',
      4, 4,
      5400, 3800, 1600,
      0.0059, 0.0054, 2100,
      '192.168.1.xxx',
      'Mozilla/5.0 (Linux; Android 14) Chrome/120.0',
      'NL', 'Haarlem', 'mobile', 'Chrome 120.0', 'Android 14',
      'https://jumbo.com/',
      'https://jumbo.com/extra',
      '0.0.3',
      1, FALSE,
      'cdn_fetch', 17345088, 'https://cdn.example.com/model.glb',
      '[{"author":"bot","message":"Hallo! Welkom bij Jumbo. Hoe kan ik je helpen?","timestamp":"2025-11-20T18:00:10+00:00"},{"author":"user","message":"Hoe werken de Extra punten?","timestamp":"2025-11-20T18:01:00+00:00"},{"author":"bot","message":"Met Jumbo Extra spaar je punten bij elke aankoop! Je spaart automatisch 1 punt per euro die je uitgeeft. Deze punten kun je inwisselen voor korting of producten. Meer info: https://jumbo.com/extra/points","timestamp":"2025-11-20T18:01:30+00:00"},{"author":"user","message":"Hoe kan ik ze inwisselen?","timestamp":"2025-11-20T18:05:00+00:00"},{"author":"bot","message":"Je kunt je punten inwisselen bij de kassa door je Extra kaart te scannen en te kiezen voor korting. Of wissel ze online in voor cadeaubonnen en producten via de app of website.","timestamp":"2025-11-20T18:05:30+00:00"},{"author":"user","message":"Verlopen de punten?","timestamp":"2025-11-20T18:09:00+00:00"},{"author":"bot","message":"Punten blijven 2 jaar geldig vanaf het moment van sparen. Zolang je regelmatig bij Jumbo winkelt, verlopen ze niet snel!","timestamp":"2025-11-20T18:09:30+00:00"},{"author":"user","message":"Super, dankjewel!","timestamp":"2025-11-20T18:11:30+00:00"},{"author":"bot","message":"Graag gedaan! Veel plezier met sparen!","timestamp":"2025-11-20T18:11:45+00:00","easter":"meditate"}]'::JSONB,
      TRUE, 'succeeded',
      0, NULL, NULL, NULL,
      '2025-11-20T18:00:00+00:00',
      '2025-11-20T18:12:00+00:00'
    ),
    -- Session 4: Recipe Help - pasta inquiry
    (
      'db540c07-209b-41f5-a306-3833939f842b',
      'jumboDemo-ma-001',
      'jumboDemo',
      'jumbo.com',
      'user-004',
      '2025-11-16T08:45:00+00:00',
      '2025-11-16T08:52:00+00:00',
      '2025-11-16T08:45:10+00:00',
      '2025-11-16T08:51:30+00:00',
      '2025-11-16T08:51:30+00:00',
      FALSE,
      'sleep_timeout',
      3, 2,
      3100, 2200, 900,
      0.0034, 0.0031, 1900,
      '192.168.1.xxx',
      'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) Safari/537.36',
      'NL', 'Utrecht', 'desktop', 'Safari 17.0', 'Mac OS 10.15.7',
      'https://jumbo.com/',
      'https://jumbo.com/recipes',
      '0.0.3',
      0, FALSE,
      'memory_cache', 0, 'https://cdn.example.com/model.glb',
      '[{"author":"bot","message":"Hallo! Op zoek naar een lekker recept?","timestamp":"2025-11-16T08:45:10+00:00"},{"author":"user","message":"Welke recepten hebben jullie voor pasta?","timestamp":"2025-11-16T08:46:00+00:00"},{"author":"bot","message":"We hebben honderden pasta recepten! Bekijk ze op https://jumbo.com/recipes/pasta","timestamp":"2025-11-16T08:46:30+00:00"}]'::JSONB,
      TRUE, 'succeeded',
      0, NULL, NULL, NULL,
      '2025-11-16T08:45:00+00:00',
      '2025-11-16T08:52:00+00:00'
    ),
    -- Session 5: Store Information - location and facilities
    (
      'a74fbb7d-bd43-4f3f-80e5-210c8600e959',
      'jumboDemo-ma-001',
      'jumboDemo',
      'jumbo.com',
      'user-005',
      '2025-11-16T12:15:00+00:00',
      '2025-11-16T12:28:00+00:00',
      '2025-11-16T12:15:20+00:00',
      '2025-11-16T12:27:45+00:00',
      '2025-11-16T12:27:45+00:00',
      FALSE,
      'user_inactive',
      4, 4,
      5800, 4100, 1700,
      0.0064, 0.0059, 2100,
      '192.168.1.xxx',
      'Mozilla/5.0 (Windows NT 10.0; Win64; x64) Edge/120.0',
      'NL', 'Den Haag', 'desktop', 'Edge 120.0', 'Windows 11',
      'https://bing.com',
      'https://jumbo.com/stores',
      '0.0.3',
      1, FALSE,
      'cdn_fetch', 17345088, 'https://cdn.example.com/model.glb',
      '[{"author":"user","message":"Waar is de dichtstbijzijnde winkel?","timestamp":"2025-11-16T12:16:00+00:00"},{"author":"bot","message":"Je kunt onze winkelzoeker gebruiken op https://jumbo.com/stores","timestamp":"2025-11-16T12:16:30+00:00"}]'::JSONB,
      TRUE, 'succeeded',
      0, NULL, NULL, NULL,
      '2025-11-16T12:15:00+00:00',
      '2025-11-16T12:28:00+00:00'
    ),
    -- Session 6: Social questions - brief greeting
    (
      '6b34fec4-6be0-4f7a-aac2-d1eef7cd35cd',
      'jumboDemo-ma-001',
      'jumboDemo',
      'jumbo.com',
      'user-006',
      '2025-11-16T16:30:00+00:00',
      '2025-11-16T16:35:00+00:00',
      '2025-11-16T16:30:05+00:00',
      '2025-11-16T16:34:20+00:00',
      '2025-11-16T16:34:20+00:00',
      FALSE,
      'sleep_timeout',
      2, 1,
      2100, 1500, 600,
      0.0023, 0.0021, 1800,
      '192.168.1.xxx',
      'Mozilla/5.0 (iPad; CPU OS 17_0) Safari/605.1.15',
      'NL', 'Eindhoven', 'tablet', 'Safari 17.0', 'iPadOS 17',
      'https://jumbo.com/',
      'https://jumbo.com/aanbiedingen',
      '0.0.3',
      0, FALSE,
      'memory_cache', 0, 'https://cdn.example.com/model.glb',
      '[{"author":"user","message":"Hoi!","timestamp":"2025-11-16T16:34:20+00:00"},{"author":"bot","message":"Hallo! Hoe kan ik je helpen?","timestamp":"2025-11-16T16:34:35+00:00"}]'::JSONB,
      TRUE, 'succeeded',
      0, NULL, NULL, NULL,
      '2025-11-16T16:30:00+00:00',
      '2025-11-16T16:35:00+00:00'
    ),
    -- Session 7: Delivery questions
    (
      'e7da865a-9c07-4a82-bf1a-ebcf90c89a79',
      'jumboDemo-ma-001',
      'jumboDemo',
      'jumbo.com',
      'user-007',
      '2025-11-17T09:00:00+00:00',
      '2025-11-17T09:15:00+00:00',
      '2025-11-17T09:00:15+00:00',
      '2025-11-17T09:14:30+00:00',
      '2025-11-17T09:14:30+00:00',
      FALSE,
      'user_inactive',
      5, 5,
      7200, 5100, 2100,
      0.0079, 0.0073, 2400,
      '192.168.1.xxx',
      'Mozilla/5.0 (Windows NT 10.0; Win64; x64) Chrome/120.0',
      'NL', 'Groningen', 'desktop', 'Chrome 120.0', 'Windows 10',
      'https://google.com',
      'https://jumbo.com/bezorgen',
      '0.0.3',
      0, FALSE,
      'memory_cache', 0, 'https://cdn.example.com/model.glb',
      '[{"author":"user","message":"Bezorgen jullie ook bij mij thuis?","timestamp":"2025-11-17T09:01:00+00:00"},{"author":"bot","message":"Ja! Check https://jumbo.com/delivery","timestamp":"2025-11-17T09:01:30+00:00"}]'::JSONB,
      TRUE, 'succeeded',
      0, NULL, NULL, NULL,
      '2025-11-17T09:00:00+00:00',
      '2025-11-17T09:15:00+00:00'
    ),
    -- Session 8: Complaint - wrong order (escalated)
    (
      '21277343-e11c-4966-94cb-a9fca9c2bb33',
      'jumboDemo-ma-001',
      'jumboDemo',
      'jumbo.com',
      'user-008',
      '2025-11-17T11:30:00+00:00',
      '2025-11-17T11:42:00+00:00',
      '2025-11-17T11:30:10+00:00',
      '2025-11-17T11:41:30+00:00',
      '2025-11-17T11:41:30+00:00',
      FALSE,
      'escalated',
      6, 6,
      9100, 6400, 2700,
      0.01, 0.0092, 3200,
      '192.168.1.xxx',
      'Mozilla/5.0 (iPhone; CPU iPhone OS 17_0) Safari/605.1.15',
      'NL', 'Tilburg', 'mobile', 'Safari 17.0', 'iOS 17',
      NULL,
      'https://jumbo.com/klantenservice',
      '0.0.3',
      0, FALSE,
      'cdn_fetch', 17345088, 'https://cdn.example.com/model.glb',
      '[{"author":"user","message":"Mijn bestelling klopte niet!","timestamp":"2025-11-17T11:31:00+00:00"},{"author":"bot","message":"Dat spijt me! Ik verbind je door met klantenservice.","timestamp":"2025-11-17T11:31:30+00:00"}]'::JSONB,
      TRUE, 'succeeded',
      0, NULL, NULL, NULL,
      '2025-11-17T11:30:00+00:00',
      '2025-11-17T11:42:00+00:00'
    ),
    -- Session 10: Product Inquiry - cheese
    (
      '4690bae6-fa6a-493f-9b8c-6df6676fbeb7',
      'jumboDemo-ma-001',
      'jumboDemo',
      'jumbo.com',
      'user-010',
      '2025-11-18T10:00:00+00:00',
      '2025-11-18T10:12:00+00:00',
      '2025-11-18T10:00:10+00:00',
      '2025-11-18T10:11:30+00:00',
      '2025-11-18T10:11:30+00:00',
      FALSE,
      'user_inactive',
      4, 4,
      5600, 4000, 1600,
      0.0062, 0.0057, 2300,
      '192.168.1.xxx',
      'Mozilla/5.0 (Windows NT 10.0; Win64; x64) Chrome/120.0',
      'NL', 'Amsterdam', 'desktop', 'Chrome 120.0', 'Windows 11',
      'https://jumbo.com/',
      'https://jumbo.com/producten',
      '0.0.3',
      0, FALSE,
      'memory_cache', 0, 'https://cdn.example.com/model.glb',
      '[{"author":"user","message":"Welke kaas hebben jullie?","timestamp":"2025-11-18T10:01:00+00:00"},{"author":"bot","message":"We hebben veel kaas! Bekijk https://jumbo.com/products/cheese","timestamp":"2025-11-18T10:01:30+00:00"}]'::JSONB,
      TRUE, 'succeeded',
      0, NULL, NULL, NULL,
      '2025-11-18T10:00:00+00:00',
      '2025-11-18T10:12:00+00:00'
    ),
    -- Session 11: Unrecognized / Browsing
    (
      'a545940e-9f5b-42de-bc13-57a5384af07e',
      'jumboDemo-ma-001',
      'jumboDemo',
      'jumbo.com',
      'user-011',
      '2025-11-18T13:30:00+00:00',
      '2025-11-18T13:38:00+00:00',
      '2025-11-18T13:30:15+00:00',
      '2025-11-18T13:37:30+00:00',
      '2025-11-18T13:37:30+00:00',
      FALSE,
      'user_inactive',
      3, 3,
      4200, 3000, 1200,
      0.0046, 0.0042, 2100,
      '192.168.1.xxx',
      'Mozilla/5.0 (iPhone; CPU iPhone OS 17_0) Safari/605.1.15',
      'NL', 'Rotterdam', 'mobile', 'Safari 17.0', 'iOS 17',
      'https://google.com',
      'https://jumbo.com/',
      '0.0.3',
      0, FALSE,
      'memory_cache', 0, 'https://cdn.example.com/model.glb',
      '[{"author":"user","message":"Hey","timestamp":"2025-11-18T13:31:00+00:00"},{"author":"bot","message":"Hoi! Waarmee kan ik je helpen?","timestamp":"2025-11-18T13:31:30+00:00"}]'::JSONB,
      TRUE, 'succeeded',
      0, NULL, NULL, NULL,
      '2025-11-18T13:30:00+00:00',
      '2025-11-18T13:38:00+00:00'
    ),
    -- Session 12: Complaint - quality issue (escalated)
    (
      'd1fcd988-580f-417d-ac4a-88a350281002',
      'jumboDemo-ma-001',
      'jumboDemo',
      'jumbo.com',
      'user-012',
      '2025-11-18T17:00:00+00:00',
      '2025-11-18T17:20:00+00:00',
      '2025-11-18T17:00:20+00:00',
      '2025-11-18T17:19:30+00:00',
      '2025-11-18T17:19:30+00:00',
      FALSE,
      'escalated',
      7, 7,
      10500, 7400, 3100,
      0.0116, 0.0107, 3500,
      '192.168.1.xxx',
      'Mozilla/5.0 (Windows NT 10.0; Win64; x64) Firefox/120.0',
      'NL', 'Utrecht', 'desktop', 'Firefox 120.0', 'Windows 10',
      NULL,
      'https://jumbo.com/klachten',
      '0.0.3',
      0, FALSE,
      'cdn_fetch', 17345088, 'https://cdn.example.com/model.glb',
      '[{"author":"user","message":"De kwaliteit was slecht!","timestamp":"2025-11-18T17:01:00+00:00"},{"author":"bot","message":"Dat spijt me. Ik stuur je klacht door.","timestamp":"2025-11-18T17:01:30+00:00"}]'::JSONB,
      TRUE, 'succeeded',
      0, NULL, NULL, NULL,
      '2025-11-18T17:00:00+00:00',
      '2025-11-18T17:20:00+00:00'
    ),
    -- Session 13: Social questions - brief hi
    (
      '5e6a7966-496b-44d0-a950-fd6bc863c4b6',
      'jumboDemo-ma-001',
      'jumboDemo',
      'jumbo.com',
      'user-013',
      '2025-11-19T09:30:00+00:00',
      '2025-11-19T09:36:00+00:00',
      '2025-11-19T09:30:10+00:00',
      '2025-11-19T09:35:30+00:00',
      '2025-11-19T09:35:30+00:00',
      FALSE,
      'sleep_timeout',
      2, 1,
      2000, 1400, 600,
      0.0022, 0.002, 1700,
      '192.168.1.xxx',
      'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) Chrome/120.0',
      'NL', 'Arnhem', 'desktop', 'Chrome 120.0', 'Mac OS 10.15.7',
      'https://jumbo.com/',
      'https://jumbo.com/',
      '0.0.3',
      0, FALSE,
      'memory_cache', 0, 'https://cdn.example.com/model.glb',
      '[{"author":"user","message":"Hoi","timestamp":"2025-11-19T09:35:30+00:00"},{"author":"bot","message":"Hallo!","timestamp":"2025-11-19T09:35:45+00:00"}]'::JSONB,
      TRUE, 'succeeded',
      0, NULL, NULL, NULL,
      '2025-11-19T09:30:00+00:00',
      '2025-11-19T09:36:00+00:00'
    ),
    -- Session 14: Recipe Help - dinner ideas
    (
      '6f027d55-912f-4adf-a2a3-70d6f31f7b4a',
      'jumboDemo-ma-001',
      'jumboDemo',
      'jumbo.com',
      'user-014',
      '2025-11-19T12:00:00+00:00',
      '2025-11-19T12:15:00+00:00',
      '2025-11-19T12:00:15+00:00',
      '2025-11-19T12:14:30+00:00',
      '2025-11-19T12:14:30+00:00',
      FALSE,
      'user_inactive',
      5, 5,
      7000, 5000, 2000,
      0.0077, 0.0071, 2200,
      '192.168.1.xxx',
      'Mozilla/5.0 (Linux; Android 14) Chrome/120.0',
      'NL', 'Nijmegen', 'mobile', 'Chrome 120.0', 'Android 14',
      'https://google.com',
      'https://jumbo.com/recepten',
      '0.0.3',
      1, FALSE,
      'memory_cache', 0, 'https://cdn.example.com/model.glb',
      '[{"author":"user","message":"Wat kan ik vanavond maken?","timestamp":"2025-11-19T12:01:00+00:00"},{"author":"bot","message":"Check onze recepten op https://jumbo.com/recipes/quick","timestamp":"2025-11-19T12:01:30+00:00"}]'::JSONB,
      TRUE, 'succeeded',
      0, NULL, NULL, NULL,
      '2025-11-19T12:00:00+00:00',
      '2025-11-19T12:15:00+00:00'
    ),
    -- Session 15: Store Information - Belgium
    (
      '8bf7dc08-b587-4b73-b7aa-ef71ef97a6f6',
      'jumboDemo-ma-001',
      'jumboDemo',
      'jumbo.com',
      'user-015',
      '2025-11-19T15:30:00+00:00',
      '2025-11-19T15:45:00+00:00',
      '2025-11-19T15:30:10+00:00',
      '2025-11-19T15:44:30+00:00',
      '2025-11-19T15:44:30+00:00',
      FALSE,
      'user_inactive',
      4, 4,
      5500, 3900, 1600,
      0.0061, 0.0056, 2000,
      '192.168.1.xxx',
      'Mozilla/5.0 (Windows NT 10.0; Win64; x64) Chrome/120.0',
      'BE', 'Antwerp', 'desktop', 'Chrome 120.0', 'Windows 11',
      'https://google.be',
      'https://jumbo.com/winkels',
      '0.0.3',
      0, FALSE,
      'memory_cache', 0, 'https://cdn.example.com/model.glb',
      '[{"author":"user","message":"Is er een Jumbo in Antwerpen?","timestamp":"2025-11-19T15:31:00+00:00"},{"author":"bot","message":"Ja! Bekijk https://jumbo.com/stores/antwerp","timestamp":"2025-11-19T15:31:30+00:00"}]'::JSONB,
      TRUE, 'succeeded',
      0, NULL, NULL, NULL,
      '2025-11-19T15:30:00+00:00',
      '2025-11-19T15:45:00+00:00'
    ),
    -- Session 16: Technical Support - app download
    (
      'b5bde98f-b4da-41cf-8e17-bab3278fa4b0',
      'jumboDemo-ma-001',
      'jumboDemo',
      'jumbo.com',
      'user-016',
      '2025-11-20T08:00:00+00:00',
      '2025-11-20T08:10:00+00:00',
      '2025-11-20T08:00:10+00:00',
      '2025-11-20T08:09:30+00:00',
      '2025-11-20T08:09:30+00:00',
      FALSE,
      'user_inactive',
      3, 3,
      4100, 2900, 1200,
      0.0045, 0.0041, 1900,
      '192.168.1.xxx',
      'Mozilla/5.0 (iPhone; CPU iPhone OS 17_0) Safari/605.1.15',
      'NL', 'Maastricht', 'mobile', 'Safari 17.0', 'iOS 17',
      'https://jumbo.com/',
      'https://jumbo.com/app',
      '0.0.3',
      0, FALSE,
      'cdn_fetch', 17345088, 'https://cdn.example.com/model.glb',
      '[{"author":"user","message":"Hoe download ik de app?","timestamp":"2025-11-20T08:01:00+00:00"},{"author":"bot","message":"Ga naar https://jumbo.com/app","timestamp":"2025-11-20T08:01:30+00:00"}]'::JSONB,
      TRUE, 'succeeded',
      0, NULL, NULL, NULL,
      '2025-11-20T08:00:00+00:00',
      '2025-11-20T08:10:00+00:00'
    ),
    -- Session 17: Social questions - name inquiry
    (
      '853f6c16-56f1-4107-9e75-edf8ed774426',
      'jumboDemo-ma-001',
      'jumboDemo',
      'jumbo.com',
      'user-017',
      '2025-11-20T11:00:00+00:00',
      '2025-11-20T11:08:00+00:00',
      '2025-11-20T11:00:05+00:00',
      '2025-11-20T11:07:30+00:00',
      '2025-11-20T11:07:30+00:00',
      FALSE,
      'sleep_timeout',
      2, 2,
      3200, 2300, 900,
      0.0035, 0.0032, 1800,
      '192.168.1.xxx',
      'Mozilla/5.0 (Windows NT 10.0; Win64; x64) Chrome/120.0',
      'NL', 'Breda', 'desktop', 'Chrome 120.0', 'Windows 10',
      'https://google.com',
      'https://jumbo.com/',
      '0.0.3',
      0, FALSE,
      'memory_cache', 0, 'https://cdn.example.com/model.glb',
      '[{"author":"user","message":"Hoe heet jij?","timestamp":"2025-11-20T11:01:00+00:00"},{"author":"bot","message":"Ik ben de Jumbo assistent!","timestamp":"2025-11-20T11:01:30+00:00"}]'::JSONB,
      TRUE, 'succeeded',
      0, NULL, NULL, NULL,
      '2025-11-20T11:00:00+00:00',
      '2025-11-20T11:08:00+00:00'
    ),
    -- Session 18: Returns inquiry (escalated)
    (
      '155bc4e3-5470-4ac3-8049-05ad280b848c',
      'jumboDemo-ma-001',
      'jumboDemo',
      'jumbo.com',
      'user-018',
      '2025-11-20T14:30:00+00:00',
      '2025-11-20T14:50:00+00:00',
      '2025-11-20T14:30:15+00:00',
      '2025-11-20T14:49:30+00:00',
      '2025-11-20T14:49:30+00:00',
      FALSE,
      'escalated',
      8, 8,
      12000, 8500, 3500,
      0.0132, 0.0121, 3800,
      '192.168.1.xxx',
      'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) Safari/537.36',
      'NL', 'Leiden', 'desktop', 'Safari 17.0', 'Mac OS 10.15.7',
      NULL,
      'https://jumbo.com/retourneren',
      '0.0.3',
      0, FALSE,
      'memory_cache', 0, 'https://cdn.example.com/model.glb',
      '[{"author":"user","message":"Hoe retourneer ik iets?","timestamp":"2025-11-20T14:31:00+00:00"},{"author":"bot","message":"Je kunt retourneren bij de klantenservice balie.","timestamp":"2025-11-20T14:31:30+00:00"}]'::JSONB,
      TRUE, 'succeeded',
      0, NULL, NULL, NULL,
      '2025-11-20T14:30:00+00:00',
      '2025-11-20T14:50:00+00:00'
    ),
    -- Session 20: Promotions inquiry
    (
      'deb18834-6b7e-4849-9892-cdfc107f9561',
      'jumboDemo-ma-001',
      'jumboDemo',
      'jumbo.com',
      'user-020',
      '2025-11-21T10:30:00+00:00',
      '2025-11-21T10:40:00+00:00',
      '2025-11-21T10:30:10+00:00',
      '2025-11-21T10:39:30+00:00',
      '2025-11-21T10:39:30+00:00',
      FALSE,
      'user_inactive',
      3, 3,
      4300, 3100, 1200,
      0.0047, 0.0043, 2000,
      '192.168.1.xxx',
      'Mozilla/5.0 (Windows NT 10.0; Win64; x64) Edge/120.0',
      'NL', 'Almere', 'desktop', 'Edge 120.0', 'Windows 11',
      'https://bing.com',
      'https://jumbo.com/acties',
      '0.0.3',
      0, FALSE,
      'memory_cache', 0, 'https://cdn.example.com/model.glb',
      '[{"author":"user","message":"Welke aanbiedingen hebben jullie?","timestamp":"2025-11-21T10:31:00+00:00"},{"author":"bot","message":"Bekijk https://jumbo.com/aanbiedingen","timestamp":"2025-11-21T10:31:30+00:00"}]'::JSONB,
      TRUE, 'succeeded',
      0, NULL, NULL, NULL,
      '2025-11-21T10:30:00+00:00',
      '2025-11-21T10:40:00+00:00'
    );

  -- ============================================================================
  -- CHAT_SESSION_ANALYSES (for the sample sessions above)
  -- ============================================================================
  INSERT INTO chat_session_analyses (
    session_id, mascot_slug, language, sentiment, category,
    escalated, forwarded_email, forwarded_url,
    url_links, email_links, questions, unanswered_questions,
    summary, session_outcome, resolution_status, engagement_level, conversation_type,
    analytics_total_tokens, analytics_total_prompt_tokens, analytics_total_completion_tokens,
    analytics_total_cost_usd, analytics_total_cost_eur, analytics_model_used,
    custom_object1, custom_object2, raw_response,
    created_at, updated_at
  ) VALUES
    -- Analysis for Session 1: Store hours
    (
      'c0053249-1d22-4da2-a5c0-4cb5b428dff1',
      'jumboDemo-ma-001',
      'nl',
      'positive',
      'Store Information',
      FALSE, FALSE, TRUE,
      ARRAY['https://jumbo.com/stores/hours']::TEXT[],
      ARRAY[]::TEXT[],
      ARRAY['What are your opening hours?'::text, 'Are you open on Sunday?']::TEXT[],
      ARRAY[]::TEXT[],
      'Customer inquired about store opening hours. All questions answered successfully.',
      'completed', 'resolved', 'medium', 'goal_driven',
      120, 120, 0, 0, 0.0012, 'gpt-4.1-mini',
      '{}'::JSONB, '{}'::JSONB,
      '{"payload": {}, "raw_text": "Customer inquired about store opening hours. All questions answered successfully."}'::JSONB,
      '2025-11-15T09:22:30+00:00',
      '2025-11-15T09:22:30+00:00'
    ),
    -- Analysis for Session 2: Product inquiry
    (
      'e63b4047-d0a2-422e-9005-b71cb132edf0',
      'jumboDemo-ma-001',
      'nl',
      'neutral',
      'Product Inquiry',
      FALSE, FALSE, TRUE,
      ARRAY['https://jumbo.com/products/organic']::TEXT[],
      ARRAY[]::TEXT[],
      ARRAY['Do you have organic bananas?'::text, 'When will they be restocked?'::text, 'What other organic fruits do you have?']::TEXT[],
      ARRAY['When will they be restocked?']::TEXT[],
      'Customer asked about organic product availability. Partial information provided.',
      'completed', 'partial', 'high', 'goal_driven',
      145, 145, 0, 0, 0.0015, 'gpt-4.1-mini',
      '{}'::JSONB, '{}'::JSONB,
      '{"payload": {}, "raw_text": "Customer asked about organic product availability. Partial information provided."}'::JSONB,
      '2025-11-15T10:45:30+00:00',
      '2025-11-15T10:45:30+00:00'
    ),
    -- Analysis for Session 3: Complaint
    (
      '4d335ace-7f06-41ce-baad-817801104985',
      'jumboDemo-ma-001',
      'nl',
      'negative',
      'Complaint',
      TRUE, TRUE, FALSE,
      ARRAY[]::TEXT[],
      ARRAY['support@jumbo.com']::TEXT[],
      ARRAY['I received a damaged product'::text, 'I want a refund'::text, 'How do I return this?']::TEXT[],
      ARRAY['How do I return this?']::TEXT[],
      'Customer complaint about damaged product. Escalated to human support for refund processing.',
      'completed', 'unresolved', 'high', 'goal_driven',
      180, 180, 0, 0, 0.0018, 'gpt-4.1-mini',
      '{}'::JSONB, '{}'::JSONB,
      '{"payload": {}, "raw_text": "Customer complaint about damaged product. Escalated to human support for refund processing."}'::JSONB,
      '2025-11-15T14:18:30+00:00',
      '2025-11-15T14:18:30+00:00'
    ),
    -- Analysis for Session 4: German language
    (
      '54b32155-5222-41fe-8248-3f9c5cf44c75',
      'jumboDemo-ma-001',
      'de',
      'positive',
      'Browse',
      FALSE, FALSE, FALSE,
      ARRAY[]::TEXT[],
      ARRAY[]::TEXT[],
      ARRAY[]::TEXT[],
      ARRAY[]::TEXT[],
      'German-speaking customer browsing. No specific questions asked.',
      'completed', 'resolved', 'low', 'exploratory',
      85, 85, 0, 0, 0.0009, 'gpt-4.1-mini',
      '{}'::JSONB, '{}'::JSONB,
      '{"payload": {}, "raw_text": "German-speaking customer browsing. No specific questions asked."}'::JSONB,
      '2025-11-17T15:08:30+00:00',
      '2025-11-17T15:08:30+00:00'
    ),
    -- Analysis for Session 5: Loyalty points
    (
      '95098475-6d18-4ce0-8360-f488099b8488',
      'jumboDemo-ma-001',
      'nl',
      'positive',
      'Loyalty Program',
      FALSE, FALSE, TRUE,
      ARRAY['https://jumbo.com/extra/points']::TEXT[],
      ARRAY[]::TEXT[],
      ARRAY['How do Extra points work?'::text, 'How can I redeem them?'::text, 'Do points expire?']::TEXT[],
      ARRAY[]::TEXT[],
      'Customer asked about Jumbo Extra loyalty program. All questions about points, redemption, and expiry answered.',
      'completed', 'resolved', 'high', 'goal_driven',
      155, 155, 0, 0, 0.0016, 'gpt-4.1-mini',
      '{}'::JSONB, '{}'::JSONB,
      '{"payload": {}, "raw_text": "Customer asked about Jumbo Extra loyalty program. All questions about points, redemption, and expiry answered."}'::JSONB,
      '2025-11-20T18:12:30+00:00',
      '2025-11-20T18:12:30+00:00'
    ),
    -- Analysis for Session 4: Recipe Help
    (
      'db540c07-209b-41f5-a306-3833939f842b',
      'jumboDemo-ma-001',
      'nl', 'positive', 'Recipe Help',
      FALSE, FALSE, TRUE,
      ARRAY['https://jumbo.com/recipes/pasta']::TEXT[],
      ARRAY[]::TEXT[],
      ARRAY['What recipes do you have for pasta?']::TEXT[],
      ARRAY[]::TEXT[],
      'Customer looking for pasta recipes. Directed to recipe section.',
      'completed', 'resolved', 'low', 'goal_driven',
      95, 95, 0, 0, 0.001, 'gpt-4.1-mini',
      '{}'::JSONB, '{}'::JSONB,
      '{"payload": {}, "raw_text": "Customer looking for pasta recipes."}'::JSONB,
      '2025-11-16T08:52:30+00:00', '2025-11-16T08:52:30+00:00'
    ),
    -- Analysis for Session 5: Store Information
    (
      'a74fbb7d-bd43-4f3f-80e5-210c8600e959',
      'jumboDemo-ma-001',
      'nl', 'positive', 'Store Information',
      FALSE, FALSE, TRUE,
      ARRAY['https://jumbo.com/stores/amsterdam']::TEXT[],
      ARRAY[]::TEXT[],
      ARRAY['Where is the nearest store?'::text, 'Do you have parking?'::text, 'Is there a bakery section?']::TEXT[],
      ARRAY[]::TEXT[],
      'Customer asked about store locations and facilities.',
      'completed', 'resolved', 'high', 'goal_driven',
      165, 165, 0, 0, 0.0017, 'gpt-4.1-mini',
      '{}'::JSONB, '{}'::JSONB,
      '{"payload": {}, "raw_text": "Customer asked about store locations."}'::JSONB,
      '2025-11-16T12:28:30+00:00', '2025-11-16T12:28:30+00:00'
    ),
    -- Analysis for Session 6: Social questions
    (
      '6b34fec4-6be0-4f7a-aac2-d1eef7cd35cd',
      'jumboDemo-ma-001',
      'nl', 'positive', 'Social questions',
      FALSE, FALSE, FALSE,
      ARRAY[]::TEXT[], ARRAY[]::TEXT[], ARRAY[]::TEXT[], ARRAY[]::TEXT[],
      'User greeted the assistant but did not ask specific questions.',
      'completed', 'no_goal', 'low', 'casual',
      75, 75, 0, 0, 0.0008, 'gpt-4.1-mini',
      '{}'::JSONB, '{}'::JSONB,
      '{"payload": {}, "raw_text": "User greeted."}'::JSONB,
      '2025-11-16T16:35:30+00:00', '2025-11-16T16:35:30+00:00'
    ),
    -- Analysis for Session 7: Delivery
    (
      'e7da865a-9c07-4a82-bf1a-ebcf90c89a79',
      'jumboDemo-ma-001',
      'nl', 'neutral', 'Delivery',
      FALSE, FALSE, TRUE,
      ARRAY['https://jumbo.com/delivery']::TEXT[],
      ARRAY[]::TEXT[],
      ARRAY['Do you deliver to my area?'::text, 'What are delivery costs?'::text, 'How long does delivery take?'::text, 'Can I track my order?']::TEXT[],
      ARRAY[]::TEXT[],
      'Customer had questions about home delivery service.',
      'completed', 'resolved', 'high', 'goal_driven',
      190, 190, 0, 0, 0.0019, 'gpt-4.1-mini',
      '{}'::JSONB, '{}'::JSONB,
      '{"payload": {}, "raw_text": "Customer asked about delivery."}'::JSONB,
      '2025-11-17T09:15:30+00:00', '2025-11-17T09:15:30+00:00'
    ),
    -- Analysis for Session 8: Complaint
    (
      '21277343-e11c-4966-94cb-a9fca9c2bb33',
      'jumboDemo-ma-001',
      'nl', 'negative', 'Complaint',
      TRUE, TRUE, FALSE,
      ARRAY[]::TEXT[],
      ARRAY['klantenservice@jumbo.com']::TEXT[],
      ARRAY['My order was wrong'::text, 'Where is my refund?'::text, 'I want to speak to a manager']::TEXT[],
      ARRAY['Where is my refund?']::TEXT[],
      'Customer frustrated about incorrect order. Escalated to customer service.',
      'completed', 'unresolved', 'high', 'goal_driven',
      210, 210, 0, 0, 0.0021, 'gpt-4.1-mini',
      '{}'::JSONB, '{}'::JSONB,
      '{"payload": {}, "raw_text": "Complaint about order."}'::JSONB,
      '2025-11-17T11:42:30+00:00', '2025-11-17T11:42:30+00:00'
    ),
    -- Analysis for Session 10: Product Inquiry
    (
      '4690bae6-fa6a-493f-9b8c-6df6676fbeb7',
      'jumboDemo-ma-001',
      'nl', 'positive', 'Product Inquiry',
      FALSE, FALSE, TRUE,
      ARRAY['https://jumbo.com/products/cheese']::TEXT[],
      ARRAY[]::TEXT[],
      ARRAY['What cheese do you have?'::text, 'Is there lactose-free cheese?'::text, 'What is the price?']::TEXT[],
      ARRAY[]::TEXT[],
      'Customer asked about cheese products.',
      'completed', 'resolved', 'medium', 'goal_driven',
      155, 155, 0, 0, 0.0016, 'gpt-4.1-mini',
      '{}'::JSONB, '{}'::JSONB,
      '{"payload": {}, "raw_text": "Cheese inquiry."}'::JSONB,
      '2025-11-18T10:12:30+00:00', '2025-11-18T10:12:30+00:00'
    ),
    -- Analysis for Session 11: Unrecognized
    (
      'a545940e-9f5b-42de-bc13-57a5384af07e',
      'jumboDemo-ma-001',
      'nl', 'neutral', 'Unrecognized / Other',
      FALSE, FALSE, FALSE,
      ARRAY[]::TEXT[], ARRAY[]::TEXT[], ARRAY[]::TEXT[], ARRAY[]::TEXT[],
      'User browsed but did not engage much.',
      'completed', 'no_goal', 'low', 'casual',
      90, 90, 0, 0, 0.0009, 'gpt-4.1-mini',
      '{}'::JSONB, '{}'::JSONB,
      '{"payload": {}, "raw_text": "Browsing."}'::JSONB,
      '2025-11-18T13:38:30+00:00', '2025-11-18T13:38:30+00:00'
    ),
    -- Analysis for Session 12: Complaint
    (
      'd1fcd988-580f-417d-ac4a-88a350281002',
      'jumboDemo-ma-001',
      'nl', 'negative', 'Complaint',
      TRUE, TRUE, FALSE,
      ARRAY[]::TEXT[],
      ARRAY['klachten@jumbo.com']::TEXT[],
      ARRAY['The quality was terrible'::text, 'I want compensation'::text, 'How do I file a complaint?'::text, 'When will I hear back?']::TEXT[],
      ARRAY['When will I hear back?']::TEXT[],
      'Customer filed quality complaint.',
      'completed', 'unresolved', 'high', 'goal_driven',
      225, 225, 0, 0, 0.0023, 'gpt-4.1-mini',
      '{}'::JSONB, '{}'::JSONB,
      '{"payload": {}, "raw_text": "Quality complaint."}'::JSONB,
      '2025-11-18T17:20:30+00:00', '2025-11-18T17:20:30+00:00'
    ),
    -- Analysis for Session 13: Social questions
    (
      '5e6a7966-496b-44d0-a950-fd6bc863c4b6',
      'jumboDemo-ma-001',
      'nl', 'neutral', 'Social questions',
      FALSE, FALSE, FALSE,
      ARRAY[]::TEXT[], ARRAY[]::TEXT[], ARRAY[]::TEXT[], ARRAY[]::TEXT[],
      'User said hi but left shortly after.',
      'completed', 'no_goal', 'low', 'casual',
      70, 70, 0, 0, 0.0007, 'gpt-4.1-mini',
      '{}'::JSONB, '{}'::JSONB,
      '{"payload": {}, "raw_text": "Brief greeting."}'::JSONB,
      '2025-11-19T09:36:30+00:00', '2025-11-19T09:36:30+00:00'
    ),
    -- Analysis for Session 14: Recipe Help
    (
      '6f027d55-912f-4adf-a2a3-70d6f31f7b4a',
      'jumboDemo-ma-001',
      'nl', 'positive', 'Recipe Help',
      FALSE, FALSE, TRUE,
      ARRAY['https://jumbo.com/recipes/dinner'::text, 'https://jumbo.com/recipes/quick']::TEXT[],
      ARRAY[]::TEXT[],
      ARRAY['What can I make for dinner?'::text, 'Something quick and easy?'::text, 'Do you have vegetarian options?']::TEXT[],
      ARRAY[]::TEXT[],
      'Customer looking for dinner recipe ideas.',
      'completed', 'resolved', 'high', 'goal_driven',
      175, 175, 0, 0, 0.0018, 'gpt-4.1-mini',
      '{}'::JSONB, '{}'::JSONB,
      '{"payload": {}, "raw_text": "Recipe help."}'::JSONB,
      '2025-11-19T12:15:30+00:00', '2025-11-19T12:15:30+00:00'
    ),
    -- Analysis for Session 15: Store Information
    (
      '8bf7dc08-b587-4b73-b7aa-ef71ef97a6f6',
      'jumboDemo-ma-001',
      'nl', 'positive', 'Store Information',
      FALSE, FALSE, TRUE,
      ARRAY['https://jumbo.com/stores/antwerp']::TEXT[],
      ARRAY[]::TEXT[],
      ARRAY['Is there a Jumbo in Antwerp?'::text, 'What are the opening hours?']::TEXT[],
      ARRAY[]::TEXT[],
      'Belgian customer asked about store in Antwerp.',
      'completed', 'resolved', 'medium', 'goal_driven',
      130, 130, 0, 0, 0.0013, 'gpt-4.1-mini',
      '{}'::JSONB, '{}'::JSONB,
      '{"payload": {}, "raw_text": "Antwerp store."}'::JSONB,
      '2025-11-19T15:45:30+00:00', '2025-11-19T15:45:30+00:00'
    ),
    -- Analysis for Session 16: Technical Support
    (
      'b5bde98f-b4da-41cf-8e17-bab3278fa4b0',
      'jumboDemo-ma-001',
      'nl', 'neutral', 'Technical Support',
      FALSE, FALSE, TRUE,
      ARRAY['https://jumbo.com/app']::TEXT[],
      ARRAY[]::TEXT[],
      ARRAY['How do I download the app?'::text, 'Is it free?']::TEXT[],
      ARRAY[]::TEXT[],
      'Customer asked about the Jumbo app.',
      'completed', 'resolved', 'medium', 'goal_driven',
      115, 115, 0, 0, 0.0012, 'gpt-4.1-mini',
      '{}'::JSONB, '{}'::JSONB,
      '{"payload": {}, "raw_text": "App download."}'::JSONB,
      '2025-11-20T08:10:30+00:00', '2025-11-20T08:10:30+00:00'
    ),
    -- Analysis for Session 17: Social questions
    (
      '853f6c16-56f1-4107-9e75-edf8ed774426',
      'jumboDemo-ma-001',
      'nl', 'positive', 'Social questions',
      FALSE, FALSE, FALSE,
      ARRAY[]::TEXT[], ARRAY[]::TEXT[],
      ARRAY['What is your name?']::TEXT[],
      ARRAY[]::TEXT[],
      'User had a casual conversation with the mascot.',
      'completed', 'no_goal', 'low', 'casual',
      80, 80, 0, 0, 0.0008, 'gpt-4.1-mini',
      '{}'::JSONB, '{}'::JSONB,
      '{"payload": {}, "raw_text": "Casual chat."}'::JSONB,
      '2025-11-20T11:08:30+00:00', '2025-11-20T11:08:30+00:00'
    ),
    -- Analysis for Session 18: Returns
    (
      '155bc4e3-5470-4ac3-8049-05ad280b848c',
      'jumboDemo-ma-001',
      'nl', 'negative', 'Returns',
      TRUE, TRUE, FALSE,
      ARRAY[]::TEXT[],
      ARRAY['retour@jumbo.com']::TEXT[],
      ARRAY['How do I return something?'::text, 'Do I need a receipt?'::text, 'When will I get my money back?'::text, 'Can I return online purchases in store?']::TEXT[],
      ARRAY['When will I get my money back?']::TEXT[],
      'Customer had questions about return policy.',
      'completed', 'partial', 'high', 'goal_driven',
      240, 240, 0, 0, 0.0024, 'gpt-4.1-mini',
      '{}'::JSONB, '{}'::JSONB,
      '{"payload": {}, "raw_text": "Return policy."}'::JSONB,
      '2025-11-20T14:50:30+00:00', '2025-11-20T14:50:30+00:00'
    ),
    -- Analysis for Session 20: Promotions
    (
      'deb18834-6b7e-4849-9892-cdfc107f9561',
      'jumboDemo-ma-001',
      'nl', 'positive', 'Promotions',
      FALSE, FALSE, TRUE,
      ARRAY['https://jumbo.com/aanbiedingen']::TEXT[],
      ARRAY[]::TEXT[],
      ARRAY['What promotions do you have?'::text, 'When do new offers start?']::TEXT[],
      ARRAY[]::TEXT[],
      'Customer asked about current promotions.',
      'completed', 'resolved', 'medium', 'goal_driven',
      125, 125, 0, 0, 0.0013, 'gpt-4.1-mini',
      '{}'::JSONB, '{}'::JSONB,
      '{"payload": {}, "raw_text": "Promotions inquiry."}'::JSONB,
      '2025-11-21T10:40:30+00:00', '2025-11-21T10:40:30+00:00'
    );

  -- ============================================================================
  -- CHAT_MESSAGES (individual messages from all sessions)
  -- ============================================================================
  INSERT INTO chat_messages (
    id, session_id, mascot_slug, message, author, timestamp,
    response_time_ms, response_animation, easter_egg_animation, wait_sequence, has_easter_egg,
    prompt_tokens, completion_tokens, total_tokens, model_used,
    cost_usd, cost_eur, finish_reason, raw_response, error_message, created_at
  ) VALUES
    ('00000001-0001-4001-8001-000000000001', 'c0053249-1d22-4da2-a5c0-4cb5b428dff1', 'jumboDemo-ma-001', 'What are your opening hours?', 'user', '2025-11-15T09:15:30+00:00', NULL, NULL, NULL, NULL, FALSE, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, '2025-11-15T09:15:30+00:00'),
    ('00000001-0002-4001-8001-000000000002', 'c0053249-1d22-4da2-a5c0-4cb5b428dff1', 'jumboDemo-ma-001', 'Hi! Our stores are generally open from 8:00 to 21:00 on weekdays.', 'bot', '2025-11-15T09:15:32+00:00', 2200, NULL, NULL, 'a', FALSE, 21, 11, 32, 'gpt-4.1-mini', 0.000064, 0.00005888, 'completed', '', NULL, '2025-11-15T09:15:32+00:00'),
    ('00000001-0003-4001-8001-000000000003', 'c0053249-1d22-4da2-a5c0-4cb5b428dff1', 'jumboDemo-ma-001', 'Are you open on Sunday?', 'user', '2025-11-15T09:18:00+00:00', NULL, NULL, NULL, NULL, FALSE, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, '2025-11-15T09:18:00+00:00'),
    ('00000001-0004-4001-8001-000000000004', 'c0053249-1d22-4da2-a5c0-4cb5b428dff1', 'jumboDemo-ma-001', 'Yes! Most stores are open Sundays from 10:00 to 18:00.', 'bot', '2025-11-15T09:18:02+00:00', 1900, NULL, NULL, 'b', FALSE, 20, 10, 30, 'gpt-4.1-mini', 0.00006, 0.0000552, 'completed', '', NULL, '2025-11-15T09:18:02+00:00'),
    ('00000002-0001-4001-8001-000000000001', 'e63b4047-d0a2-422e-9005-b71cb132edf0', 'jumboDemo-ma-001', 'Do you have organic bananas?', 'user', '2025-11-15T10:30:15+00:00', NULL, NULL, NULL, NULL, FALSE, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, '2025-11-15T10:30:15+00:00'),
    ('00000002-0002-4001-8001-000000000002', 'e63b4047-d0a2-422e-9005-b71cb132edf0', 'jumboDemo-ma-001', 'Yes, we carry organic bananas in our organic produce section!', 'bot', '2025-11-15T10:30:18+00:00', 2500, NULL, 'meditate', 'c', TRUE, 20, 10, 30, 'gpt-4.1-mini', 0.00006, 0.0000552, 'completed', '', NULL, '2025-11-15T10:30:18+00:00'),
    ('00000003-0001-4001-8001-000000000001', '4d335ace-7f06-41ce-baad-817801104985', 'jumboDemo-ma-001', 'I received a damaged product', 'user', '2025-11-15T14:00:20+00:00', NULL, NULL, NULL, NULL, FALSE, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, '2025-11-15T14:00:20+00:00'),
    ('00000003-0002-4001-8001-000000000002', '4d335ace-7f06-41ce-baad-817801104985', 'jumboDemo-ma-001', 'I''m sorry to hear that! Can you tell me more about what happened?', 'bot', '2025-11-15T14:00:24+00:00', 3800, NULL, NULL, 'd', FALSE, 21, 11, 32, 'gpt-4.1-mini', 0.000064, 0.00005888, 'completed', '', NULL, '2025-11-15T14:00:24+00:00'),
    ('00000005-0001-4001-8001-000000000001', 'a74fbb7d-bd43-4f3f-80e5-210c8600e959', 'jumboDemo-ma-001', 'Where is the nearest store?', 'user', '2025-11-16T12:15:20+00:00', NULL, NULL, NULL, NULL, FALSE, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, '2025-11-16T12:15:20+00:00'),
    ('00000005-0002-4001-8001-000000000002', 'a74fbb7d-bd43-4f3f-80e5-210c8600e959', 'jumboDemo-ma-001', 'I''d be happy to help! What city or postal code are you looking for?', 'bot', '2025-11-16T12:15:22+00:00', 2100, NULL, NULL, 'a', FALSE, 20, 10, 30, 'gpt-4.1-mini', 0.00006, 0.0000552, 'completed', '', NULL, '2025-11-16T12:15:22+00:00'),
    ('00000005-0003-4001-8001-000000000003', 'a74fbb7d-bd43-4f3f-80e5-210c8600e959', 'jumboDemo-ma-001', 'Den Haag', 'user', '2025-11-16T12:18:00+00:00', NULL, NULL, NULL, NULL, FALSE, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, '2025-11-16T12:18:00+00:00'),
    ('00000005-0004-4001-8001-000000000004', 'a74fbb7d-bd43-4f3f-80e5-210c8600e959', 'jumboDemo-ma-001', 'Great! We have several stores in Den Haag. The closest one is on Grote Marktstraat.', 'bot', '2025-11-16T12:18:02+00:00', 1800, NULL, 'showLaptop', 'b', TRUE, 22, 11, 33, 'gpt-4.1-mini', 0.000066, 0.00006072, 'completed', '', NULL, '2025-11-16T12:18:02+00:00'),
    ('00000006-0001-4001-8001-000000000001', '6b34fec4-6be0-4f7a-aac2-d1eef7cd35cd', 'jumboDemo-ma-001', 'Hey', 'user', '2025-11-16T16:30:05+00:00', NULL, NULL, NULL, NULL, FALSE, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, '2025-11-16T16:30:05+00:00'),
    ('00000006-0002-4001-8001-000000000002', '6b34fec4-6be0-4f7a-aac2-d1eef7cd35cd', 'jumboDemo-ma-001', 'Hey there! How can I help you today?', 'bot', '2025-11-16T16:30:07+00:00', 1800, NULL, NULL, 'a', FALSE, 20, 10, 30, 'gpt-4.1-mini', 0.00006, 0.0000552, 'completed', '', NULL, '2025-11-16T16:30:07+00:00'),
    ('00000009-0001-4001-8001-000000000001', '54b32155-5222-41fe-8248-3f9c5cf44c75', 'jumboDemo-ma-001', 'Hallo!', 'user', '2025-11-17T15:00:05+00:00', NULL, NULL, NULL, NULL, FALSE, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, '2025-11-17T15:00:05+00:00'),
    ('00000009-0002-4001-8001-000000000002', '54b32155-5222-41fe-8248-3f9c5cf44c75', 'jumboDemo-ma-001', 'Hallo! Ich kann auch ein bisschen Deutsch! How can I help you?', 'bot', '2025-11-17T15:00:07+00:00', 2000, NULL, 'meditate', 'c', TRUE, 20, 10, 30, 'gpt-4.1-mini', 0.00006, 0.0000552, 'completed', '', NULL, '2025-11-17T15:00:07+00:00'),
    ('00000014-0001-4001-8001-000000000001', '6f027d55-912f-4adf-a2a3-70d6f31f7b4a', 'jumboDemo-ma-001', 'What can I make for dinner?', 'user', '2025-11-19T12:00:15+00:00', NULL, NULL, NULL, NULL, FALSE, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, '2025-11-19T12:00:15+00:00'),
    ('00000014-0002-4001-8001-000000000002', '6f027d55-912f-4adf-a2a3-70d6f31f7b4a', 'jumboDemo-ma-001', 'Ooh, I love helping with dinner ideas! What kind of cuisine are you in the mood for?', 'bot', '2025-11-19T12:00:17+00:00', 2200, NULL, NULL, 'b', FALSE, 21, 11, 32, 'gpt-4.1-mini', 0.000064, 0.00005888, 'completed', '', NULL, '2025-11-19T12:00:17+00:00'),
    ('00000014-0003-4001-8001-000000000003', '6f027d55-912f-4adf-a2a3-70d6f31f7b4a', 'jumboDemo-ma-001', 'Something quick please', 'user', '2025-11-19T12:05:00+00:00', NULL, NULL, NULL, NULL, FALSE, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, '2025-11-19T12:05:00+00:00'),
    ('00000014-0004-4001-8001-000000000004', '6f027d55-912f-4adf-a2a3-70d6f31f7b4a', 'jumboDemo-ma-001', 'Perfect! How about a stir-fry? You can have it ready in 15 minutes!', 'bot', '2025-11-19T12:05:02+00:00', 1900, NULL, 'showLaptop', 'a', TRUE, 20, 10, 30, 'gpt-4.1-mini', 0.00006, 0.0000552, 'completed', '', NULL, '2025-11-19T12:05:02+00:00'),
    ('00000017-0001-4001-8001-000000000001', '853f6c16-56f1-4107-9e75-edf8ed774426', 'jumboDemo-ma-001', 'What''s your name?', 'user', '2025-11-20T11:00:05+00:00', NULL, NULL, NULL, NULL, FALSE, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, '2025-11-20T11:00:05+00:00'),
    ('00000017-0002-4001-8001-000000000002', '853f6c16-56f1-4107-9e75-edf8ed774426', 'jumboDemo-ma-001', 'I''m Liza! I''m here to help you with anything Jumbo-related!', 'bot', '2025-11-20T11:00:07+00:00', 1800, NULL, NULL, 'a', FALSE, 20, 10, 30, 'gpt-4.1-mini', 0.00006, 0.0000552, 'completed', '', NULL, '2025-11-20T11:00:07+00:00'),
    ('00000019-0001-4001-8001-000000000001', '95098475-6d18-4ce0-8360-f488099b8488', 'jumboDemo-ma-001', 'How do Extra points work?', 'user', '2025-11-20T18:00:10+00:00', NULL, NULL, NULL, NULL, FALSE, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, '2025-11-20T18:00:10+00:00'),
    ('00000019-0002-4001-8001-000000000002', '95098475-6d18-4ce0-8360-f488099b8488', 'jumboDemo-ma-001', 'Great question! With Jumbo Extra, you earn points on every purchase!', 'bot', '2025-11-20T18:00:12+00:00', 2100, NULL, NULL, 'b', FALSE, 25, 13, 38, 'gpt-4.1-mini', 0.000076, 0.00006992, 'completed', '', NULL, '2025-11-20T18:00:12+00:00'),
    ('00000019-0003-4001-8001-000000000003', '95098475-6d18-4ce0-8360-f488099b8488', 'jumboDemo-ma-001', 'Cool! Do points expire?', 'user', '2025-11-20T18:05:00+00:00', NULL, NULL, NULL, NULL, FALSE, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, '2025-11-20T18:05:00+00:00'),
    ('00000019-0004-4001-8001-000000000004', '95098475-6d18-4ce0-8360-f488099b8488', 'jumboDemo-ma-001', 'Points stay valid as long as you use your Extra card once a year!', 'bot', '2025-11-20T18:05:02+00:00', 1800, NULL, 'meditate', 'a', TRUE, 20, 10, 30, 'gpt-4.1-mini', 0.00006, 0.0000552, 'completed', '', NULL, '2025-11-20T18:05:02+00:00');

  -- Re-enable triggers (success path)
  ALTER TABLE chat_sessions ENABLE TRIGGER tr_track_chat_session_usage;
  ALTER TABLE chat_messages ENABLE TRIGGER tr_track_chat_message_usage;

  RAISE NOTICE 'Demo chat data seeded successfully (20 sessions, 20 analyses, 26 messages)';

EXCEPTION WHEN OTHERS THEN
  -- Always re-enable triggers on any error
  ALTER TABLE chat_sessions ENABLE TRIGGER tr_track_chat_session_usage;
  ALTER TABLE chat_messages ENABLE TRIGGER tr_track_chat_message_usage;
  -- Re-raise the original error
  RAISE;
END $$;

-- ============================================================================
-- NOTE: Full chat data
-- ============================================================================
-- The full 20 chat sessions and their analyses are available in:
--   - public/data/chat_sessions.json
--   - public/data/chat_session_analyses.json
--
-- You can import the remaining sessions by converting the JSON to SQL
-- or using a data import script.
-- ============================================================================
